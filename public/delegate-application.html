<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delege Başvurusu - KAALCAL26 - Kemal Atatürk Anadolu Lisesi</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/x-icon" href="https://via.placeholder.com/32x32/4D0000/FFDF00?text=KA">
    <link rel="apple-touch-icon" href="https://via.placeholder.com/180x180/4D0000/FFDF00?text=KA">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2>KAALCAL26</h2>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html#basvuru" class="nav-link">Başvuru</a></li>
                <li><a href="index.html#iletisim" class="nav-link">İletişim</a></li>
            </ul>
            <div class="nav-toggle" id="mobile-menu">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Application Page -->
    <div class="application-page">
        <div class="container">
            <div class="application-header">
                <!-- School Image Banner -->
                <div class="school-banner">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/9/94/Kemal_Ataturk_Lisesi.jpg" alt="Kemal Atatürk Anadolu Lisesi" class="school-banner-image">
                    <div class="school-banner-overlay">
                        <h2>Kemal Atatürk Anadolu Lisesi</h2>
                        <p>Geleceğin Liderleri Burada Yetişiyor</p>
                    </div>
                </div>
                
                <div class="back-button" style="margin-bottom: 2rem;">
                    <a href="index.html" class="btn btn-secondary">
                        <i class="fas fa-arrow-left"></i> Ana Sayfaya Dön
                    </a>
                </div>
                <h1 class="section-title">Delege Başvurusu</h1>
                <p class="section-subtitle">KAALCAL'26 etkinliğimize katılmak için başvuru formunu doldurun</p>
            </div>

            <div class="application-form-container">
                <div class="form-intro">
                    <h2>KAALCAL'26 Hakkında</h2>
                    <p>28-29 Mart tarihlerinde gerçekleştirilecek olan bu çalıştay, otorite kavramını tarihsel, toplumsal ve bireysel boyutlarıyla ele almayı amaçlamaktadır. Katılımcıların farklı bakış açılarıyla tartışma ve üretim ortamına katkı sunmaları hedeflenen çalıştayda, disiplinlerarası bir yaklaşım benimsenmektedir.</p>
                </div>

                <form class="application-form" id="delegateApplicationForm">
                    <!-- Personal Information Section -->
                    <div class="form-section">
                        <h3><i class="fas fa-user"></i> Kişisel Bilgiler</h3>
                        
                        <div class="form-group">
                            <label for="fullName">Ad – Soyad <span class="required">*</span></label>
                            <input type="text" id="fullName" name="fullName" required placeholder="Adınızı ve soyadınızı giriniz">
                        </div>

                        <div class="form-group">
                            <label for="school">Okul <span class="required">*</span></label>
                            <input type="text" id="school" name="school" required placeholder="Okulunuzun adını giriniz">
                        </div>

                        <div class="form-group">
                            <label for="classLevel">Sınıf Düzeyi <span class="required">*</span></label>
                            <select id="classLevel" name="classLevel" required>
                                <option value="">Seçiniz</option>
                                <option value="9">9. Sınıf</option>
                                <option value="10">10. Sınıf</option>
                                <option value="11">11. Sınıf</option>
                                <option value="12">12. Sınıf</option>
                                <option value="hazirlik">Hazırlık</option>
                                <option value="1">1. Sınıf (Üniversite)</option>
                                <option value="2">2. Sınıf (Üniversite)</option>
                                <option value="3">3. Sınıf (Üniversite)</option>
                                <option value="4">4. Sınıf (Üniversite)</option>
                                <option value="lisansustu">Lisansüstü</option>
                                <option value="mezun">Mezun</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="phone">Telefon Numarası <span class="required">*</span></label>
                            <input type="tel" id="phone" name="phone" required placeholder="05XX XXX XX XX">
                        </div>

                        <div class="form-group">
                            <label for="email">E-posta Adresi <span class="required">*</span></label>
                            <input type="email" id="email" name="email" required placeholder="yigitefesevir@kaalcal.com">
                        </div>
                    </div>

                    <!-- Additional Information Section -->
                    <div class="form-section">
                        <h3><i class="fas fa-info-circle"></i> Ek Bilgiler</h3>
                        
                        <div class="form-group">
                            <label for="experience">Önceki Çalıştay Deneyiminiz</label>
                            <textarea id="experience" name="experience" rows="4" placeholder="Daha önce katıldığınız çalıştay veya benzeri etkinlikleri belirtiniz..."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="motivation">Katılım Nedeniniz <span class="required">*</span></label>
                            <textarea id="motivation" name="motivation" rows="4" required placeholder="Kaalcal'26'ye neden katılmak istediğinizi belirtiniz..."></textarea>
                        </div>
                    </div>

                    <!-- Agreement Section -->
                    <div class="form-section">
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="agreement" name="agreement" required>
                                <label for="agreement">Kaalcal'26 katılım koşullarını kabul ediyorum <span class="required">*</span></label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="newsletter" name="newsletter">
                                <label for="newsletter">Etkinlik duyurularını almak istiyorum</label>
                            </div>
                        </div>
                    </div>

                    <!-- Submit Section -->
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i> Başvuruyu Gönder
                        </button>
                        <a href="index.html" class="btn btn-secondary">
                            <i class="fas fa-times"></i> İptal
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="application-status.js"></script>
    <script>
        // Check application status on page load
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('delegateApplicationForm');
            if (!appStatusChecker.checkAndHandleApplicationStatus('delegate', form)) {
                // If application is closed, stop further execution
                return;
            }
        });

        // Form submission handler
        document.getElementById('delegateApplicationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Double-check application status before submission
            if (!appStatusChecker.isApplicationOpen('delegate')) {
                appStatusChecker.showClosedMessage('delegate');
                return;
            }
            
            // Collect form data
            const formData = new FormData(this);
            const data = Object.fromEntries(formData.entries());
            
            // Create application object
            const application = {
                id: Date.now(), // Unique ID
                type: 'delegate',
                fullName: data.fullName,
                email: data.email,
                phone: data.phone,
                school: data.school,
                classLevel: data.classLevel,
                experience: data.experience,
                motivation: data.motivation,
                agreement: data.agreement,
                newsletter: data.newsletter,
                status: 'pending',
                submittedAt: new Date().toISOString(),
                formData: data
            };
            
            // Save to localStorage
            saveApplication(application);
            
            // Show success message
            showSuccessMessage();
            
            // Reset form
            this.reset();
        });
        
        function saveApplication(application) {
            // Get existing applications
            let applications = JSON.parse(localStorage.getItem('kaalcal_applications') || '[]');
            
            // Add new application
            applications.push(application);
            
            // Save back to localStorage
            localStorage.setItem('kaalcal_applications', JSON.stringify(applications));
            
            // Log for debugging
            console.log('Application saved:', application);
        }
        
        function showSuccessMessage() {
            // Create success message
            const successDiv = document.createElement('div');
            successDiv.className = 'success-message';
            successDiv.innerHTML = `
                <div class="success-content">
                    <i class="fas fa-check-circle"></i>
                    <h3>Başvurunuz Başarıyla Gönderildi!</h3>
                    <p>Başvurunuz incelenmek üzere kaydedilmiştir. En kısa sürede size dönüş yapacağız.</p>
                    <button onclick="this.parentElement.parentElement.remove()" class="btn btn-primary">Tamam</button>
                </div>
            `;
            
            // Add styles
            successDiv.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
            `;
            
            const successContent = successDiv.querySelector('.success-content');
            successContent.style.cssText = `
                background: linear-gradient(135deg, #4D0000 0%, #330000 100%);
                border: 2px solid #FFDF00;
                border-radius: 20px;
                padding: 3rem;
                text-align: center;
                color: white;
                max-width: 500px;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            `;
            
            const icon = successContent.querySelector('i');
            icon.style.cssText = `
                font-size: 4rem;
                color: #FFDF00;
                margin-bottom: 1rem;
            `;
            
            const h3 = successContent.querySelector('h3');
            h3.style.cssText = `
                color: #FFDF00;
                font-size: 1.5rem;
                margin-bottom: 1rem;
            `;
            
            const p = successContent.querySelector('p');
            p.style.cssText = `
                margin-bottom: 2rem;
                line-height: 1.6;
            `;
            
            // Add to page
            document.body.appendChild(successDiv);
        }
    </script>
</body>
</html>
